{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":39,"index":188}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _expoConstants = require(_dependencyMap[2], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const API_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || process.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)({});\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredData();\n    }, []);\n    const loadStoredData = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('@token');\n        const storedUser = await AsyncStorage.default.getItem('@user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Erro ao carregar dados:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await fetch(`${API_URL}/api/auth/login`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            email,\n            password\n          })\n        });\n        const data = await response.json();\n        if (!response.ok) {\n          throw new Error(data.detail || 'Erro ao fazer login');\n        }\n        await AsyncStorage.default.setItem('@token', data.token);\n        await AsyncStorage.default.setItem('@user', JSON.stringify(data.user));\n        setToken(data.token);\n        setUser(data.user);\n      } catch (error) {\n        throw new Error(error.message || 'Erro ao fazer login');\n      }\n    };\n    const register = async (email, password, name, phone) => {\n      try {\n        const response = await fetch(`${API_URL}/api/auth/register`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            email,\n            password,\n            name,\n            phone\n          })\n        });\n        const data = await response.json();\n        if (!response.ok) {\n          throw new Error(data.detail || 'Erro ao registrar');\n        }\n        await AsyncStorage.default.setItem('@token', data.token);\n        await AsyncStorage.default.setItem('@user', JSON.stringify(data.user));\n        setToken(data.token);\n        setUser(data.user);\n      } catch (error) {\n        throw new Error(error.message || 'Erro ao registrar');\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('@token');\n      await AsyncStorage.default.removeItem('@user');\n      setToken(null);\n      setUser(null);\n    };\n    const updateUser = userData => {\n      setUser(userData);\n      AsyncStorage.default.setItem('@user', JSON.stringify(userData));\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        register,\n        logout,\n        updateUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => (0, _react.useContext)(AuthContext);\n});","lineCount":134,"map":[[13,2,28,0,"Object"],[13,8,28,0],[13,9,28,0,"defineProperty"],[13,23,28,0],[13,24,28,0,"exports"],[13,31,28,0],[14,4,28,0,"enumerable"],[14,14,28,0],[15,4,28,0,"get"],[15,7,28,0],[15,18,28,0,"get"],[15,19,28,0],[16,6,28,0],[16,13,28,0,"AuthProvider"],[16,25,28,0],[17,4,28,0],[18,2,28,0],[19,2,120,0,"Object"],[19,8,120,0],[19,9,120,0,"defineProperty"],[19,23,120,0],[19,24,120,0,"exports"],[19,31,120,0],[20,4,120,0,"enumerable"],[20,14,120,0],[21,4,120,0,"get"],[21,7,120,0],[21,18,120,0,"get"],[21,19,120,0],[22,6,120,0],[22,13,120,0,"useAuth"],[22,20,120,0],[23,4,120,0],[24,2,120,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_expoConstants"],[28,20,3,0],[28,23,3,0,"require"],[28,30,3,0],[28,31,3,0,"_dependencyMap"],[28,45,3,0],[29,2,3,0],[29,6,3,0,"Constants"],[29,15,3,0],[29,18,3,0,"_interopDefault"],[29,33,3,0],[29,34,3,0,"_expoConstants"],[29,48,3,0],[30,2,3,39],[30,6,3,39,"_reactJsxDevRuntime"],[30,25,3,39],[30,28,3,39,"require"],[30,35,3,39],[30,36,3,39,"_dependencyMap"],[30,50,3,39],[31,2,5,0],[31,8,5,6,"API_URL"],[31,15,5,13],[31,18,5,16,"Constants"],[31,27,5,25],[31,28,5,25,"default"],[31,35,5,25],[31,36,5,26,"expoConfig"],[31,46,5,36],[31,48,5,38,"extra"],[31,53,5,43],[31,55,5,45,"EXPO_PUBLIC_BACKEND_URL"],[31,78,5,68],[31,82,5,72,"process"],[31,89,5,79],[31,90,5,80,"env"],[31,93,5,83],[31,94,5,84,"EXPO_PUBLIC_BACKEND_URL"],[31,117,5,107],[32,2,26,0],[32,8,26,6,"AuthContext"],[32,19,26,17],[32,35,26,20],[32,39,26,20,"createContext"],[32,45,26,33],[32,46,26,33,"createContext"],[32,59,26,33],[32,61,26,51],[32,62,26,52],[32,63,26,72],[32,64,26,73],[33,2,28,7],[33,8,28,13,"AuthProvider"],[33,20,28,66],[33,23,28,69,"AuthProvider"],[33,24,28,70],[34,4,28,72,"children"],[35,2,28,81],[35,3,28,82],[35,8,28,87],[36,4,29,2],[36,10,29,8],[36,11,29,9,"user"],[36,15,29,13],[36,17,29,15,"setUser"],[36,24,29,22],[36,25,29,23],[36,28,29,26],[36,32,29,26,"useState"],[36,38,29,34],[36,39,29,34,"useState"],[36,47,29,34],[36,49,29,48],[36,53,29,52],[36,54,29,53],[37,4,30,2],[37,10,30,8],[37,11,30,9,"token"],[37,16,30,14],[37,18,30,16,"setToken"],[37,26,30,24],[37,27,30,25],[37,30,30,28],[37,34,30,28,"useState"],[37,40,30,36],[37,41,30,36,"useState"],[37,49,30,36],[37,51,30,52],[37,55,30,56],[37,56,30,57],[38,4,31,2],[38,10,31,8],[38,11,31,9,"loading"],[38,18,31,16],[38,20,31,18,"setLoading"],[38,30,31,28],[38,31,31,29],[38,34,31,32],[38,38,31,32,"useState"],[38,44,31,40],[38,45,31,40,"useState"],[38,53,31,40],[38,55,31,41],[38,59,31,45],[38,60,31,46],[39,4,33,2],[39,8,33,2,"useEffect"],[39,14,33,11],[39,15,33,11,"useEffect"],[39,24,33,11],[39,26,33,12],[39,32,33,18],[40,6,34,4,"loadStoredData"],[40,20,34,18],[40,21,34,19],[40,22,34,20],[41,4,35,2],[41,5,35,3],[41,7,35,5],[41,9,35,7],[41,10,35,8],[42,4,37,2],[42,10,37,8,"loadStoredData"],[42,24,37,22],[42,27,37,25],[42,33,37,25,"loadStoredData"],[42,34,37,25],[42,39,37,37],[43,6,38,4],[43,10,38,8],[44,8,39,6],[44,14,39,12,"storedToken"],[44,25,39,23],[44,28,39,26],[44,34,39,32,"AsyncStorage"],[44,46,39,44],[44,47,39,44,"default"],[44,54,39,44],[44,55,39,45,"getItem"],[44,62,39,52],[44,63,39,53],[44,71,39,61],[44,72,39,62],[45,8,40,6],[45,14,40,12,"storedUser"],[45,24,40,22],[45,27,40,25],[45,33,40,31,"AsyncStorage"],[45,45,40,43],[45,46,40,43,"default"],[45,53,40,43],[45,54,40,44,"getItem"],[45,61,40,51],[45,62,40,52],[45,69,40,59],[45,70,40,60],[46,8,42,6],[46,12,42,10,"storedToken"],[46,23,42,21],[46,27,42,25,"storedUser"],[46,37,42,35],[46,39,42,37],[47,10,43,8,"setToken"],[47,18,43,16],[47,19,43,17,"storedToken"],[47,30,43,28],[47,31,43,29],[48,10,44,8,"setUser"],[48,17,44,15],[48,18,44,16,"JSON"],[48,22,44,20],[48,23,44,21,"parse"],[48,28,44,26],[48,29,44,27,"storedUser"],[48,39,44,37],[48,40,44,38],[48,41,44,39],[49,8,45,6],[50,6,46,4],[50,7,46,5],[50,8,46,6],[50,15,46,13,"error"],[50,20,46,18],[50,22,46,20],[51,8,47,6,"console"],[51,15,47,13],[51,16,47,14,"error"],[51,21,47,19],[51,22,47,20],[51,47,47,45],[51,49,47,47,"error"],[51,54,47,52],[51,55,47,53],[52,6,48,4],[52,7,48,5],[52,16,48,14],[53,8,49,6,"setLoading"],[53,18,49,16],[53,19,49,17],[53,24,49,22],[53,25,49,23],[54,6,50,4],[55,4,51,2],[55,5,51,3],[56,4,53,2],[56,10,53,8,"login"],[56,15,53,13],[56,18,53,16],[56,24,53,16,"login"],[56,25,53,23,"email"],[56,30,53,36],[56,32,53,38,"password"],[56,40,53,54],[56,45,53,59],[57,6,54,4],[57,10,54,8],[58,8,55,6],[58,14,55,12,"response"],[58,22,55,20],[58,25,55,23],[58,31,55,29,"fetch"],[58,36,55,34],[58,37,55,35],[58,40,55,38,"API_URL"],[58,47,55,45],[58,64,55,62],[58,66,55,64],[59,10,56,8,"method"],[59,16,56,14],[59,18,56,16],[59,24,56,22],[60,10,57,8,"headers"],[60,17,57,15],[60,19,57,17],[61,12,57,19],[61,26,57,33],[61,28,57,35],[62,10,57,54],[62,11,57,55],[63,10,58,8,"body"],[63,14,58,12],[63,16,58,14,"JSON"],[63,20,58,18],[63,21,58,19,"stringify"],[63,30,58,28],[63,31,58,29],[64,12,58,31,"email"],[64,17,58,36],[65,12,58,38,"password"],[66,10,58,47],[66,11,58,48],[67,8,59,6],[67,9,59,7],[67,10,59,8],[68,8,61,6],[68,14,61,12,"data"],[68,18,61,16],[68,21,61,19],[68,27,61,25,"response"],[68,35,61,33],[68,36,61,34,"json"],[68,40,61,38],[68,41,61,39],[68,42,61,40],[69,8,63,6],[69,12,63,10],[69,13,63,11,"response"],[69,21,63,19],[69,22,63,20,"ok"],[69,24,63,22],[69,26,63,24],[70,10,64,8],[70,16,64,14],[70,20,64,18,"Error"],[70,25,64,23],[70,26,64,24,"data"],[70,30,64,28],[70,31,64,29,"detail"],[70,37,64,35],[70,41,64,39],[70,62,64,60],[70,63,64,61],[71,8,65,6],[72,8,67,6],[72,14,67,12,"AsyncStorage"],[72,26,67,24],[72,27,67,24,"default"],[72,34,67,24],[72,35,67,25,"setItem"],[72,42,67,32],[72,43,67,33],[72,51,67,41],[72,53,67,43,"data"],[72,57,67,47],[72,58,67,48,"token"],[72,63,67,53],[72,64,67,54],[73,8,68,6],[73,14,68,12,"AsyncStorage"],[73,26,68,24],[73,27,68,24,"default"],[73,34,68,24],[73,35,68,25,"setItem"],[73,42,68,32],[73,43,68,33],[73,50,68,40],[73,52,68,42,"JSON"],[73,56,68,46],[73,57,68,47,"stringify"],[73,66,68,56],[73,67,68,57,"data"],[73,71,68,61],[73,72,68,62,"user"],[73,76,68,66],[73,77,68,67],[73,78,68,68],[74,8,70,6,"setToken"],[74,16,70,14],[74,17,70,15,"data"],[74,21,70,19],[74,22,70,20,"token"],[74,27,70,25],[74,28,70,26],[75,8,71,6,"setUser"],[75,15,71,13],[75,16,71,14,"data"],[75,20,71,18],[75,21,71,19,"user"],[75,25,71,23],[75,26,71,24],[76,6,72,4],[76,7,72,5],[76,8,72,6],[76,15,72,13,"error"],[76,20,72,23],[76,22,72,25],[77,8,73,6],[77,14,73,12],[77,18,73,16,"Error"],[77,23,73,21],[77,24,73,22,"error"],[77,29,73,27],[77,30,73,28,"message"],[77,37,73,35],[77,41,73,39],[77,62,73,60],[77,63,73,61],[78,6,74,4],[79,4,75,2],[79,5,75,3],[80,4,77,2],[80,10,77,8,"register"],[80,18,77,16],[80,21,77,19],[80,27,77,19,"register"],[80,28,77,26,"email"],[80,33,77,39],[80,35,77,41,"password"],[80,43,77,57],[80,45,77,59,"name"],[80,49,77,71],[80,51,77,73,"phone"],[80,56,77,87],[80,61,77,92],[81,6,78,4],[81,10,78,8],[82,8,79,6],[82,14,79,12,"response"],[82,22,79,20],[82,25,79,23],[82,31,79,29,"fetch"],[82,36,79,34],[82,37,79,35],[82,40,79,38,"API_URL"],[82,47,79,45],[82,67,79,65],[82,69,79,67],[83,10,80,8,"method"],[83,16,80,14],[83,18,80,16],[83,24,80,22],[84,10,81,8,"headers"],[84,17,81,15],[84,19,81,17],[85,12,81,19],[85,26,81,33],[85,28,81,35],[86,10,81,54],[86,11,81,55],[87,10,82,8,"body"],[87,14,82,12],[87,16,82,14,"JSON"],[87,20,82,18],[87,21,82,19,"stringify"],[87,30,82,28],[87,31,82,29],[88,12,82,31,"email"],[88,17,82,36],[89,12,82,38,"password"],[89,20,82,46],[90,12,82,48,"name"],[90,16,82,52],[91,12,82,54,"phone"],[92,10,82,60],[92,11,82,61],[93,8,83,6],[93,9,83,7],[93,10,83,8],[94,8,85,6],[94,14,85,12,"data"],[94,18,85,16],[94,21,85,19],[94,27,85,25,"response"],[94,35,85,33],[94,36,85,34,"json"],[94,40,85,38],[94,41,85,39],[94,42,85,40],[95,8,87,6],[95,12,87,10],[95,13,87,11,"response"],[95,21,87,19],[95,22,87,20,"ok"],[95,24,87,22],[95,26,87,24],[96,10,88,8],[96,16,88,14],[96,20,88,18,"Error"],[96,25,88,23],[96,26,88,24,"data"],[96,30,88,28],[96,31,88,29,"detail"],[96,37,88,35],[96,41,88,39],[96,60,88,58],[96,61,88,59],[97,8,89,6],[98,8,91,6],[98,14,91,12,"AsyncStorage"],[98,26,91,24],[98,27,91,24,"default"],[98,34,91,24],[98,35,91,25,"setItem"],[98,42,91,32],[98,43,91,33],[98,51,91,41],[98,53,91,43,"data"],[98,57,91,47],[98,58,91,48,"token"],[98,63,91,53],[98,64,91,54],[99,8,92,6],[99,14,92,12,"AsyncStorage"],[99,26,92,24],[99,27,92,24,"default"],[99,34,92,24],[99,35,92,25,"setItem"],[99,42,92,32],[99,43,92,33],[99,50,92,40],[99,52,92,42,"JSON"],[99,56,92,46],[99,57,92,47,"stringify"],[99,66,92,56],[99,67,92,57,"data"],[99,71,92,61],[99,72,92,62,"user"],[99,76,92,66],[99,77,92,67],[99,78,92,68],[100,8,94,6,"setToken"],[100,16,94,14],[100,17,94,15,"data"],[100,21,94,19],[100,22,94,20,"token"],[100,27,94,25],[100,28,94,26],[101,8,95,6,"setUser"],[101,15,95,13],[101,16,95,14,"data"],[101,20,95,18],[101,21,95,19,"user"],[101,25,95,23],[101,26,95,24],[102,6,96,4],[102,7,96,5],[102,8,96,6],[102,15,96,13,"error"],[102,20,96,23],[102,22,96,25],[103,8,97,6],[103,14,97,12],[103,18,97,16,"Error"],[103,23,97,21],[103,24,97,22,"error"],[103,29,97,27],[103,30,97,28,"message"],[103,37,97,35],[103,41,97,39],[103,60,97,58],[103,61,97,59],[104,6,98,4],[105,4,99,2],[105,5,99,3],[106,4,101,2],[106,10,101,8,"logout"],[106,16,101,14],[106,19,101,17],[106,25,101,17,"logout"],[106,26,101,17],[106,31,101,29],[107,6,102,4],[107,12,102,10,"AsyncStorage"],[107,24,102,22],[107,25,102,22,"default"],[107,32,102,22],[107,33,102,23,"removeItem"],[107,43,102,33],[107,44,102,34],[107,52,102,42],[107,53,102,43],[108,6,103,4],[108,12,103,10,"AsyncStorage"],[108,24,103,22],[108,25,103,22,"default"],[108,32,103,22],[108,33,103,23,"removeItem"],[108,43,103,33],[108,44,103,34],[108,51,103,41],[108,52,103,42],[109,6,104,4,"setToken"],[109,14,104,12],[109,15,104,13],[109,19,104,17],[109,20,104,18],[110,6,105,4,"setUser"],[110,13,105,11],[110,14,105,12],[110,18,105,16],[110,19,105,17],[111,4,106,2],[111,5,106,3],[112,4,108,2],[112,10,108,8,"updateUser"],[112,20,108,18],[112,23,108,22,"userData"],[112,31,108,36],[112,35,108,41],[113,6,109,4,"setUser"],[113,13,109,11],[113,14,109,12,"userData"],[113,22,109,20],[113,23,109,21],[114,6,110,4,"AsyncStorage"],[114,18,110,16],[114,19,110,16,"default"],[114,26,110,16],[114,27,110,17,"setItem"],[114,34,110,24],[114,35,110,25],[114,42,110,32],[114,44,110,34,"JSON"],[114,48,110,38],[114,49,110,39,"stringify"],[114,58,110,48],[114,59,110,49,"userData"],[114,67,110,57],[114,68,110,58],[114,69,110,59],[115,4,111,2],[115,5,111,3],[116,4,113,2],[116,24,114,4],[116,28,114,4,"_reactJsxDevRuntime"],[116,47,114,4],[116,48,114,4,"jsxDEV"],[116,54,114,4],[116,56,114,5,"AuthContext"],[116,67,114,16],[116,68,114,17,"Provider"],[116,76,114,25],[117,6,114,26,"value"],[117,11,114,31],[117,13,114,33],[118,8,114,35,"user"],[118,12,114,39],[119,8,114,41,"token"],[119,13,114,46],[120,8,114,48,"loading"],[120,15,114,55],[121,8,114,57,"login"],[121,13,114,62],[122,8,114,64,"register"],[122,16,114,72],[123,8,114,74,"logout"],[123,14,114,80],[124,8,114,82,"updateUser"],[125,6,114,93],[125,7,114,95],[126,6,114,95,"children"],[126,14,114,95],[126,16,115,7,"children"],[127,4,115,15],[128,6,115,15,"fileName"],[128,14,115,15],[128,16,115,15,"_jsxFileName"],[128,28,115,15],[129,6,115,15,"lineNumber"],[129,16,115,15],[130,6,115,15,"columnNumber"],[130,18,115,15],[131,4,115,15],[131,11,116,26],[131,12,116,27],[132,2,118,0],[132,3,118,1],[133,2,120,7],[133,8,120,13,"useAuth"],[133,15,120,20],[133,18,120,23,"useAuth"],[133,19,120,23],[133,24,120,29],[133,28,120,29,"useContext"],[133,34,120,39],[133,35,120,39,"useContext"],[133,45,120,39],[133,47,120,40,"AuthContext"],[133,58,120,51],[133,59,120,52],[134,0,120,53],[134,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredData","login","register","logout","updateUser","useAuth"],"mappings":"AAA;qEC2B;YCK;GDE;yBEE;GFc;gBGE;GHsB;mBIE;GJsB;iBKE;GLK;qBME;GNG;CDO;uBQE,6BR"},"hasCjsExports":false},"type":"js/module"}]}